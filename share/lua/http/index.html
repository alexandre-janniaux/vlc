<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>VLC media player - Web Interface</title>
    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon" />
    <link rel="stylesheet" href="dist/css/vendors.min.css">
    <link rel="stylesheet" href="dist/css/style.css">
    <script src="dist/js/vendors.min.js"></script>
    <script src="dist/js/script.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- <sidenav></sidenav> -->
        <main-view></main-view>
        <!-- Modals -->
        <div id="vlmModal" class="modal fade" role="dialog">
            <vlm-modal></vlm-modal>
        </div>

        <div id="fileModal" class="modal fade" role="dialog">
            <file-modal></file-modal>
        </div>

        <div id="equalizerModal" class="modal fade" role="dialog">
            <equalizer-modal></equalizer-modal>
        </div>

        <div id="trackSyncModal" class="modal fade" role="dialog">
            <track-sync-modal></track-sync-modal>
        </div>

        <div id="streamManagerModal" class="modal fade" role="dialog">
            <stream-manager-modal></stream-manager-modal>
        </div>
    </div>
</body>
<!-- Templates -->
<!-- Playlist Template -->
<script type="text/x-template" id="playlist-template">
    <div id="playlistNav" class="playlistNav h-100">
        <h6 class="playlist-header font-weight-bold">Playlist</h6>
        <div class="dropdown-divider"></div>
        <div id="playlist">
            <playlist-item :key="item.id" :item="item" v-for="item in playlist.items"></playlist-item>
        </div>
        <playlist-buttons></playlist-buttons>
    </div>
</script>
<!-- Button Template -->
<script type="text/x-template" id="button-template">
    <div class="playlist-actions">
        <div class="d-flex justify-content-between mx-2" :class="{ disabled: !playlist.activeItem }">
            <button v-on:click="toggleRepeat()" type="button" class="btn-circle" id="repeatButton"><svg-icon name="repeat"></svg-icon></button>
            <button v-on:click="toggleRandom()" type="button" class="btn-circle" id="randomButton"><svg-icon name="shuffle"></svg-icon></button>
            <span>{{ playlist.items.length ? playlist.items.length + ' items': '' }}</span>
            <button type="button" class="btn-circle" data-toggle="modal" data-target="#equalizerModal"><svg-icon name="sort"></svg-icon></button>
            <button v-on:click="removeItem(playlist.activeItem.id)" type="button" class="btn-circle"><svg-icon name="delete_outline"></svg-icon></button>
        </div>
    </div>
</script>
<!-- Playlist item Template -->
<script type="text/x-template" id="playlist-item-template">
    <button v-on:click="setActiveItem(item)" v-on:dblclick="play(item.uri, item.id)" class="btn btn-link p-2 playlist-item d-flex justify-content-between align-items-center"
        :class="{ current: item.current === 'current', active: item.active }">
        <img class="img-art" :src="item.src" @error="onImgError(item)">
        <span class="item-name">{{ item.name }}</span>
        <span>{{ item.duration | formatDuration }}</span>
    </button>
</script>
<!-- equalizer modal Template -->
<script type="text/x-template" id="equalizer-modal-template">
    <div>
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Equalizer</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <input type="range" name="equalizerInput" id="equalizerInput" min="-20" max="20" step="0.1"/>
                    <center id="eqVal">{{ eqVal }}</center>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" id="main-view-template">
    <div>
        <div class="container-fluid fixed-top primary-navbar d-flex align-content-center align-items-center text-center justify-content-center">
            <div v-on:click="setLibraryView()" class="d-flex align-items-center h-100">
                <button v-on:click="" class="btn btn-icon">
                    <svg-icon name="local_movies"></svg-icon>
                    <span>Video</span>
                </button>
                <button v-on:click="" class="btn btn-icon">
                    <svg-icon name="audiotrack"></svg-icon>
                    <span>Music</span>
                </button>
                <button v-on:click="" class="btn btn-icon">
                    <svg-icon name="settings_input_antenna"></svg-icon>
                    <span>Network</span>
                </button>
            </div>
        </div>
        <div class="container-fluid fixed-top secondary-navbar">
            <div class="d-flex h-100 position-relative show collapse justify-content-between align-items-center">
                <div class="flex-1 text-left">
                    <button v-on:click="" class="btn btn-circle"><svg-icon name="sort"></svg-icon></button>
                </div>
                <div class="flex-1 text-center">
                    <button class="btn btn-link">Albums</button>
                    <button class="btn btn-link">Artists</button>
                    <button class="btn btn-link">Genres</button>
                    <button class="btn btn-link">Tracks</button>
                </div>
                <div class="flex-1 text-right">
                    <button v-on:click="" class="btn-circle"><svg-icon name="filter_list_alt"></svg-icon></button>
                    <a data-toggle="collapse" href="#" data-target=".collapse" role="button" class="text-white toggler px-2">
                        <svg-icon name="playlist_play"></svg-icon>
                    </a>
                    <button v-on:click="" class="btn-circle"><svg-icon name="more-horizontal"></svg-icon></button>
                </div>
            </div>
        </div>
        <div class="container-fluid px-0" :class="mainView === 'player' ? 'overlay': 'push'">
            <div class="row collapse show no-gutters d-flex h-100 position-relative">
                <div class="col">
                    <player v-if="mainView === 'player'"></player>
                    <library v-else></library>
                </div>
                <div class="col-3 p-0 h-100 w-sidebar navbar-collapse collapse d-none d-md-flex sidebar show">
                    <!-- fixed sidebar -->
                    <div class="navbar-dark position-fixed h-100 align-self-start w-sidebar">
                        <h6 class="px-3 pt-3"><a data-toggle="collapse" class="px-1 d-inline d-md-none text-white" href="#" data-target=".collapse">
                        </a>
                        </h6>
                        <playlist></playlist>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" id="library-template">
    <div class="library-view container-fluid">
        <h6 class="font-weight-bold">Library</h6>
        <library-item></library-item>
    </div>
</script>
<!-- vlm modal Template -->
<script type="text/x-template" id="vlm-modal-template">
    <div>
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Write your VLM commands here (seperated by new line)</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <textarea id="vlmCommand"></textarea>
                    <div id="status">
                    status:
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" v-on:click="executeVLM()" id="vlmButton" class="btn btn-default">Submit</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</script>
<!-- sideNav Template -->
<script type="text/x-template" id="sidenav-template">
    <div>
        <div id="sideNav" class="sideNav">
            <button id="closeNavButton" class="btn btn-link" v-on:click="closeNav()">
                <svg-icon id="close-icon" name="plus"></svg-icon>
            </button>
            <span class="header">Menu</span>
            <a href="#" data-toggle="modal" data-target="#fileModal">
                Open File
            </a>
            <a href="#">
                Local Network
            </a>
            <a href="#">
                Podcast
            </a>
            <a href="#" data-toggle="modal" data-target="#streamManagerModal">
                Manage Streams
            </a>
            <a href="#" data-toggle="modal" data-target="#trackSyncModal">
                Track Synchronization
            </a>
            <a href="#" data-toggle="modal" data-target="#vlmModal">
                VLM Batch Commands
            </a>
        </div>
        <span id="openNavButton">
            <svg-icon name="menu"></svg-icon>
        </span>
    </div>
</script>
<!-- file modal Template -->
<script type="text/x-template" id="file-modal-template">
    <div>
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Select your file</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body" id="file-tree">
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</script>
<!-- track-sync modal Template -->
<script type="text/x-template" id="track-sync-modal-template">
    <div>
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Set Track Synchronization</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body" id="">
                    Playback Rate
                    <center id="playbackVal">{{ playbackVal }}</center>
                    <input type="range" name="playbackInput" id="playbackInput" min="-20" max="20" step="0.1"/>
                    <br>
                    Audio Delay
                    <center id="audioDelayVal">{{ audioDelayVal }}</center>
                    <input type="range" name="audioDelayInput" id="audioDelayInput" min="-20" max="20" step="0.1"/>
                    <br>
                    Subtitle Delay
                    <center id="subDelayVal">{{ subDelayVal }}</center>
                    <input type="range" name="subDelayInput" id="subDelayInput" min="-20" max="20" step="0.1"/>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" id="library-item-template">
    <div class="library-item">
        <div class="library-item-img">
            <img src="http://images.videolan.org/images/VLC-IconSmall.png">
        </div>
        <div class="library-item-body">
            <div class="library-item-name text-truncate">{{ item.name }}</div>
            <div class="library-item-artist text-truncate">{{ item.artist }}</div>
        </div>
    </div>
</script>
<script type="text/x-template" id="svg-icon">
    <svg version="1.1" :class="clazz" :viewBox="box" v-html="path" :style="style"></svg>
</script>
<!-- stream-manager modal Template -->
<script type="text/x-template" id="stream-manager-modal-template">
    <div>
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Stream Manager</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</script>
<!-- Templates -->
<!-- Playlist Template -->
<script type="text/x-template" id="player-template">
    <div id="videoPlayer">
        <video></video>
    </div>
</script>
</html>
